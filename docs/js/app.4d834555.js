(function(e){function t(t){for(var n,l,o=t[0],s=t[1],c=t[2],d=0,f=[];d<o.length;d++)l=o[d],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&f.push(r[l][0]),r[l]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);u&&u(t);while(f.length)f.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,o=1;o<a.length;o++){var s=a[o];0!==r[s]&&(n=!1)}n&&(i.splice(t--,1),e=l(l.s=a[0]))}return e}var n={},r={app:0},i=[];function l(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=n,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(a,n,function(t){return e[t]}.bind(null,n));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/dx-test/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=s;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},1371:function(e,t,a){},"13a7":function(e,t,a){},2482:function(e,t,a){},"2d75":function(e,t,a){"use strict";a("1371")},"30ac":function(e,t,a){"use strict";a("2482")},"47f8":function(e,t,a){"use strict";a("13a7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("483b"),a("aeed");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("main-page")],1)},i=[],l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-page"},[a("fancy-header",{staticClass:"main-page__header",on:{"nav-action":e.handleNavAction}}),a("div",{staticClass:"main-page__view"},[a("view-area")],1),a("chart-dialog",{attrs:{"is-visible":e.dialogVisible},on:{"close-dialog":e.handleCloseDialog}})],1)},o=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-nav"},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.handleClick}},[e._v(" Добавить график ")])],1)},c=[],u=a("1da1"),d=(a("96cf"),{name:"PageNav",methods:{handleClick:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$emit("nav-action");case 1:case"end":return t.stop()}}),t)})))()}}}),f=d,p=(a("30ac"),a("2877")),h=Object(p["a"])(f,s,c,!1,null,null,null),m=h.exports,b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view-area"},e._l(e.currCharts,(function(t,n){return a("chart-"+t.name,{key:n+"_"+t.name,tag:"component",staticClass:"view-area__comp",attrs:{item:t},on:{"chart-action":e.handleChartAction}})})),1)},v=[],g=a("5530"),x=a("2f62"),_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dx-chart",{attrs:{"data-source":e.item.data,palette:"Violet"}},[a("dx-common-series-settings",{attrs:{type:"line","argument-field":"Дата"}}),a("dx-series",{attrs:{"value-field":"Процент",name:"Месяц"}}),a("dx-margin",{attrs:{bottom:20}}),a("dx-argument-axis",{attrs:{"value-margins-enabled":!1,"discrete-axis-division-mode":"crossLabels"}},[a("dx-grid",{attrs:{visible:!0}})],1),a("dx-legend",{attrs:{"vertical-alignment":"bottom","horizontal-alignment":"center","item-text-position":"bottom"}}),a("dx-title",{attrs:{text:"Линейный график"}},[a("dx-subtitle",{attrs:{text:"(с красивым подзаголовком)"}})],1),a("dx-tooltip",{attrs:{enabled:!0}})],1)},C=[],y=(a("d81d"),a("d3b7"),a("25f0"),a("5660")),D={name:"ChartLine",components:{DxChart:y["DxChart"],DxSeries:y["DxSeries"],DxArgumentAxis:y["DxArgumentAxis"],DxCommonSeriesSettings:y["DxCommonSeriesSettings"],DxGrid:y["DxGrid"],DxMargin:y["DxMargin"],DxLegend:y["DxLegend"],DxTitle:y["DxTitle"],DxSubtitle:y["DxSubtitle"],DxTooltip:y["DxTooltip"]},props:{item:{type:Object,required:!0,default:function(){return{}}}},computed:{dataSource:function(){return[{value:"Процент",name:"Процент"}]},itemMod:function(){return this.item.data.map((function(e){return{"Дата":e["Дата"],"Месяц":e["Месяц"],"Процент":e["Процент"].toString()}}))}}},w=D,O=Object(p["a"])(w,_,C,!1,null,null,null),j=O.exports,k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dx-pie-chart",{attrs:{"data-source":e.item.data,palette:"Bright",title:"Группы по долям"}},[a("dx-series",{attrs:{"argument-field":"Группа","value-field":"Доля"}},[a("dx-label",{attrs:{visible:!0}},[a("dx-connector",{attrs:{visible:!0,width:1}})],1)],1),a("dx-size",{attrs:{width:500}})],1)},S=[],A=a("89cf"),P=a.n(A),T={name:"ChartPie",components:{DxPieChart:P.a,DxSize:A["DxSize"],DxSeries:A["DxSeries"],DxLabel:A["DxLabel"],DxConnector:A["DxConnector"]},props:{item:{type:Object,required:!0,default:function(){return{}}}}},$=T,E=Object(p["a"])($,k,S,!1,null,null,null),V=E.exports,z={name:"ViewArea",components:{ChartLine:j,ChartPie:V},data:function(){return{currentComponent:null}},computed:Object(g["a"])({},Object(x["b"])(["currCharts"])),methods:{handleChartAction:function(){}}},M=z,R=(a("2d75"),Object(p["a"])(M,b,v,!1,null,null,null)),L=R.exports,G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"chart-dialog",attrs:{title:"Настройки графика",visible:e.isVisible,"show-close":!1,width:"30%"}},[a("div",{staticClass:"chart-dialog__select-group"},[a("div",{staticClass:"chart-dialog__select-group__label"},[e._v(" Выберите тип графика: ")]),a("el-select",{staticClass:"chart-dialog__select-group__label",attrs:{size:"mini",placeholder:"Выберите график"},on:{change:e.handleChartChanged},model:{value:e.chart,callback:function(t){e.chart=t},expression:"chart"}},e._l(e.chartOptions,(function(e,t){return a("el-option",{key:t+"_"+e.label,attrs:{label:e.label,value:e.value}})})),1)],1),a("div",{staticClass:"chart-dialog__select-group"},[a("div",{staticClass:"chart-dialog__select-group__label"},[e._v(" Выберите источник данных: ")]),a("el-select",{staticClass:"chart-dialog__select-group__label",attrs:{size:"mini",placeholder:"Выберите источник"},model:{value:e.source,callback:function(t){e.source=t},expression:"source"}},e._l(e.sourceOptions,(function(e,t){return a("el-option",{key:t+"_"+e.label,attrs:{label:e.label,value:e.value}})})),1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:e.handleCloseDialog}},[e._v(" Отмена ")]),a("el-button",{attrs:{size:"mini",type:"primary",disabled:!(e.chart&&e.source)},on:{click:e.handleGetData}},[e._v(" Загрузить ")])],1)])},q=[],H=(a("4de4"),a("498a"),[{label:"Пирог 1",value:"pie"},{label:"Пирог 2",value:"pie "},{label:"Линия 1",value:"line"},{label:"Линия 2",value:"line "}]),N=[{label:"Данные 1",value:"https://run.mocky.io/v3/2699115b-8ced-40c3-8072-b7fa9faf6047",type:"pie"},{label:"Данные 2",value:"https://run.mocky.io/v3/2699115b-8ced-40c3-8072-b7fa9faf6047 ",type:"pie"},{label:"Данные 3",value:"https://run.mocky.io/v3/2699115b-8ced-40c3-8072-b7fa9faf6047  ",type:"pie"},{label:"Данные 4",value:"https://run.mocky.io/v3/92a0a266-0321-4ff5-9993-b394d03ceee2",type:"line"},{label:"Данные 5",value:"https://run.mocky.io/v3/92a0a266-0321-4ff5-9993-b394d03ceee2 ",type:"line"}],B={name:"ChartDialog",props:{isVisible:{type:Boolean,required:!0,default:function(){return!1}}},data:function(){return{chart:null,source:null,chartOptions:H}},computed:{sourceOptions:function(){var e=this;return N.filter((function(t){return!!e.chart&&t.type===e.chart.trim()}))}},methods:{handleChartChanged:function(){this.source=null},handleCloseDialog:function(){this.chart=null,this.source=null,this.$emit("close-dialog")},handleGetData:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("getChartData",{type:e.chart,url:e.source});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),console.error("Error on get chart data: ",t.t0.message);case 8:e.handleCloseDialog();case 9:case"end":return t.stop()}}),t,null,[[0,5]])})))()}}},J=B,F=(a("47f8"),Object(p["a"])(J,G,q,!1,null,null,null)),I=F.exports,K={name:"MainPage",components:{FancyHeader:m,ViewArea:L,ChartDialog:I},data:function(){return{dialogVisible:!1}},methods:{handleNavAction:function(){this.dialogVisible=!this.dialogVisible},handleCloseDialog:function(){this.dialogVisible=!1}}},Q=K,U=(a("59f2"),Object(p["a"])(Q,l,o,!1,null,null,null)),W=U.exports,X={name:"App",components:{MainPage:W}},Y=X,Z=(a("034f"),Object(p["a"])(Y,r,i,!1,null,null,null)),ee=Z.exports,te=a("bc3a"),ae=a.n(te);n["default"].use(x["a"]);var ne=new x["a"].Store({state:{charts:[]},getters:{currCharts:function(e){return e.charts.map((function(e){return Object(g["a"])({},e)}))}},mutations:{SET_CHART:function(e,t){e.charts.unshift(t)}},actions:{getChartData:function(e,t){return Object(u["a"])(regeneratorRuntime.mark((function a(){var n,r,i,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,r=t.type,i=t.url,a.next=4,ae()(i.trim());case 4:l=a.sent,n("SET_CHART",{name:r.trim(),data:l.data});case 6:case"end":return a.stop()}}),a)})))()}}}),re=a("5c96"),ie=a.n(re);a("0fae");n["default"].config.productionTip=!1,n["default"].use(ie.a),new n["default"]({store:ne,render:function(e){return e(ee)}}).$mount("#app")},"59f2":function(e,t,a){"use strict";a("fcca")},"85ec":function(e,t,a){},fcca:function(e,t,a){}});
//# sourceMappingURL=app.4d834555.js.map